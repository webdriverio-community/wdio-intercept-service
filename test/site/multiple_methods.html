<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Get with multiple request methods</title>
</head>
<body>
<p id="text">This file makes ajax requests to different endpoints</p>
<button id="getbutton">Press me for GET!</button>
<button id="postbutton">Press me for POST!</button>
<div id="response"></div>
<script>
    'use strict';

    (function (window, document) {

        var button = document.querySelector('#getbutton');
        button.addEventListener('click', function (evt) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/get.json');
            xhr.addEventListener('load', () => document.querySelector('#response').textContent += "XHR response type: " + xhr.responseType);
            xhr.send();
        });

        var fetchButton = document.querySelector('#postbutton');
        fetchButton.addEventListener('click', function (evt) {
            var xhr = new XMLHttpRequest();
            var form = new FormData();
            form.append('foo', 'bar');
            xhr.open('POST', '/post.json');
            var payload = form;
            xhr.addEventListener('load', () => document.querySelector('#response').textContent += "XHR response type: " + xhr.responseType);
            xhr.send(payload);
        });

    })(window, window.document);
</script>
</body>
</html>
